!function(r){var e=Object,t=e.keys;r.diff=function o(r,f){for(var n=t(r).sort(),a=t(f).sort(),i={},s={},d={},c=[],h={},u=0,v=0;n[u]||a[v];){var l=n[u],m=String.fromCharCode(u+48),C=a[v],p=r[l],y=f[C];if(l==C){if(e(p)===p&&e(y)===y){var b=o(p,y);t(b)[0]&&(h[m]=b)}else p!==y&&(d[m]=y);u++,v++}else l>C||!l?(s[C]=y,v++):(c.push(m),u++)}return c[0]&&(i.d=c),t(s)[0]&&(i.a=s),t(d)[0]&&(i.m=d),t(h)[0]&&(i.r=h),i},r.patch=function f(r,e){var o,n,a,i,s=t(r).sort();for(o in e)for(n in e[o])a=e[o][n],i=s[("d"!=o?n:a).charCodeAt()-48],"a"==o?r[n]=a:"m"==o?r[i]=a:"d"==o?delete r[i]:f(r[i],a)}}(this.syncedDB={});